# Squeezer - Эффективное сжатие фото и видео для macOS

Squeezer - это приложение для macOS на ARM-процессорах, которое эффективно сжимает фото и видео, минимизируя размер файлов без заметной потери качества. Приложение имеет удобный пользовательский интерфейс и позволяет обрабатывать как отдельные файлы, так и целые папки с медиаконтентом.

## Возможности

- Сжатие фотографий в форматах JPG, JPEG, PNG, GIF, HEIC
- Сжатие видео в форматах MP4, MOV, AVI
- Сохранение всех метаданных EXIF и прочих
- Сохранение оригинальных имен файлов
- Выбор уровня качества сжатия (высокое, среднее, низкое)
- Отображение процесса сжатия с оценкой оставшегося времени
- Выбор папки для сохранения результатов
- Встроенные инструменты для обработки - не требуется устанавливать FFmpeg отдельно

## Системные требования

- macOS 11 Big Sur или новее
- Процессор Apple M1 или новее (ARM архитектура)
- Python 3.9 или выше

## Установка

### 1. Клонирование репозитория (для разработчиков)

```bash
git clone https://github.com/yourusername/squeezer.git
cd squeezer
```

### 2. Создание виртуального окружения (для разработчиков)

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Установка зависимостей (для разработчиков)

```bash
pip install -r requirements.txt
```

## Запуск приложения

### Для обычных пользователей:
Скачайте установщик из раздела [Releases](https://github.com/yourusername/squeezer/releases) и запустите его.

### Для разработчиков:
```bash
python main.py
```

## Структура проекта

```
squeezer/
├── main.py                 # Основной файл запуска приложения
├── bin/                    # Директория с бинарными файлами (ffmpeg, ffprobe)
├── gui/                    # Модуль графического интерфейса
│   ├── __init__.py
│   └── main_window.py      # Класс главного окна
├── processors/             # Модуль обработчиков сжатия
│   ├── __init__.py
│   ├── compression_manager.py  # Менеджер обработки файлов
│   ├── image_processor.py  # Обработчик изображений
│   └── video_processor.py  # Обработчик видео
└── utils/                  # Вспомогательные утилиты
    ├── __init__.py
    ├── file_utils.py       # Утилиты для работы с файлами
    └── settings.py         # Настройки приложения
```

## Использование

1. Запустите приложение
2. Выберите файлы или папку с медиафайлами для сжатия
3. Выберите уровень качества сжатия
4. Укажите папку для сохранения результатов
5. Нажмите "Начать сжатие"
6. Следите за процессом сжатия и дождитесь завершения

## Для разработчиков

### Добавление новых форматов

Для добавления поддержки новых форматов файлов:

1. Дополните списки поддерживаемых форматов в `image_processor.py` или `video_processor.py`
2. Реализуйте методы для обработки новых форматов

### Создание исполняемого файла

Для создания самостоятельного исполняемого файла используйте PyInstaller. Необходимо предварительно скачать и поместить бинарные файлы FFmpeg для macOS ARM в директорию `bin/`:

1. Скачайте FFmpeg для macOS ARM
```bash
# Создание директории для бинарных файлов
mkdir -p bin

# Скачивание и распаковка FFmpeg для macOS ARM
curl -L https://evermeet.cx/ffmpeg/getrelease/ffmpeg/zip -o ffmpeg.zip
curl -L https://evermeet.cx/ffmpeg/getrelease/ffprobe/zip -o ffprobe.zip
unzip ffmpeg.zip -d bin/
unzip ffprobe.zip -d bin/

# Установка прав на выполнение
chmod +x bin/ffmpeg
chmod +x bin/ffprobe
```

2. Сборка приложения с PyInstaller
```bash
pip install pyinstaller

# Сборка с включением FFmpeg
pyinstaller --onefile --windowed --add-data "bin/ffmpeg:bin" --add-data "bin/ffprobe:bin" main.py
```

Готовое приложение будет размещено в директории `dist/`.

## Лицензия

MIT License 